<!DOCTYPE HTML>
<html lang="en" class="sidebar-visible no-js light">
    <head>
        <!-- Book generated using mdBook -->
        <meta charset="UTF-8">
        <title>The State of Asynchronous Rust - async-book-kr</title>
        
        


        <!-- Custom HTML head -->
        


        <meta content="text/html; charset=utf-8" http-equiv="Content-Type">
        <meta name="description" content="">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <meta name="theme-color" content="#ffffff" />

        
        <link rel="icon" href="../favicon.svg">
        
        
        <link rel="shortcut icon" href="../favicon.png">
        
        <link rel="stylesheet" href="../css/variables.css">
        <link rel="stylesheet" href="../css/general.css">
        <link rel="stylesheet" href="../css/chrome.css">
        
        <link rel="stylesheet" href="../css/print.css" media="print">
        

        <!-- Fonts -->
        <link rel="stylesheet" href="../FontAwesome/css/font-awesome.css">
        
        <link rel="stylesheet" href="../fonts/fonts.css">
        

        <!-- Highlight.js Stylesheets -->
        <link rel="stylesheet" href="../highlight.css">
        <link rel="stylesheet" href="../tomorrow-night.css">
        <link rel="stylesheet" href="../ayu-highlight.css">

        <!-- Custom theme stylesheets -->
        

        
    </head>
    <body>
        <!-- Provide site root to javascript -->
        <script type="text/javascript">
            var path_to_root = "../";
            var default_theme = window.matchMedia("(prefers-color-scheme: dark)").matches ? "navy" : "light";
        </script>

        <!-- Work around some values being stored in localStorage wrapped in quotes -->
        <script type="text/javascript">
            try {
                var theme = localStorage.getItem('mdbook-theme');
                var sidebar = localStorage.getItem('mdbook-sidebar');

                if (theme.startsWith('"') && theme.endsWith('"')) {
                    localStorage.setItem('mdbook-theme', theme.slice(1, theme.length - 1));
                }

                if (sidebar.startsWith('"') && sidebar.endsWith('"')) {
                    localStorage.setItem('mdbook-sidebar', sidebar.slice(1, sidebar.length - 1));
                }
            } catch (e) { }
        </script>

        <!-- Set the theme before any content is loaded, prevents flash -->
        <script type="text/javascript">
            var theme;
            try { theme = localStorage.getItem('mdbook-theme'); } catch(e) { }
            if (theme === null || theme === undefined) { theme = default_theme; }
            var html = document.querySelector('html');
            html.classList.remove('no-js')
            html.classList.remove('light')
            html.classList.add(theme);
            html.classList.add('js');
        </script>

        <!-- Hide / unhide sidebar before it is displayed -->
        <script type="text/javascript">
            var html = document.querySelector('html');
            var sidebar = 'hidden';
            if (document.body.clientWidth >= 1080) {
                try { sidebar = localStorage.getItem('mdbook-sidebar'); } catch(e) { }
                sidebar = sidebar || 'visible';
            }
            html.classList.remove('sidebar-visible');
            html.classList.add("sidebar-" + sidebar);
        </script>

        <nav id="sidebar" class="sidebar" aria-label="Table of contents">
            <div class="sidebar-scrollbox">
                <ol class="chapter"><li class="chapter-item expanded "><a href="../01_getting_started/01_chapter.html"><strong aria-hidden="true">1.</strong> Getting Started</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="../01_getting_started/02_why_async.html"><strong aria-hidden="true">1.1.</strong> Why Async?</a></li><li class="chapter-item expanded "><a href="../01_getting_started/03_state_of_async_rust.html" class="active"><strong aria-hidden="true">1.2.</strong> The State of Asynchronous Rust</a></li><li class="chapter-item expanded "><a href="../01_getting_started/04_async_await_primer.html"><strong aria-hidden="true">1.3.</strong> async/.await Primer</a></li></ol></li><li class="chapter-item expanded "><a href="../02_execution/01_chapter.html"><strong aria-hidden="true">2.</strong> Under the Hood: Executing Futures and Tasks</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="../02_execution/02_future.html"><strong aria-hidden="true">2.1.</strong> The Future Trait</a></li><li class="chapter-item expanded "><a href="../02_execution/03_wakeups.html"><strong aria-hidden="true">2.2.</strong> Task Wakeups with Waker</a></li><li class="chapter-item expanded "><a href="../02_execution/04_executor.html"><strong aria-hidden="true">2.3.</strong> Applied: Build an Executor</a></li><li class="chapter-item expanded "><a href="../02_execution/05_io.html"><strong aria-hidden="true">2.4.</strong> Executors and System IO</a></li></ol></li><li class="chapter-item expanded "><a href="../03_async_await/01_chapter.html"><strong aria-hidden="true">3.</strong> async/await</a></li><li class="chapter-item expanded "><a href="../04_pinning/01_chapter.html"><strong aria-hidden="true">4.</strong> Pinning</a></li><li class="chapter-item expanded "><a href="../05_streams/01_chapter.html"><strong aria-hidden="true">5.</strong> Streams</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="../05_streams/02_iteration_and_concurrency.html"><strong aria-hidden="true">5.1.</strong> Iteration and Concurrency</a></li></ol></li><li class="chapter-item expanded "><a href="../06_multiple_futures/01_chapter.html"><strong aria-hidden="true">6.</strong> Executing Multiple Futures at a Time</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="../06_multiple_futures/02_join.html"><strong aria-hidden="true">6.1.</strong> join!</a></li><li class="chapter-item expanded "><a href="../06_multiple_futures/03_select.html"><strong aria-hidden="true">6.2.</strong> select!</a></li><li class="chapter-item expanded "><a href="../404.html"><strong aria-hidden="true">6.3.</strong> TODO: Spawning</a></li><li class="chapter-item expanded "><a href="../404.html"><strong aria-hidden="true">6.4.</strong> TODO: Cancellation and Timeouts</a></li><li class="chapter-item expanded "><a href="../404.html"><strong aria-hidden="true">6.5.</strong> TODO: FuturesUnordered</a></li></ol></li><li class="chapter-item expanded "><a href="../07_workarounds/01_chapter.html"><strong aria-hidden="true">7.</strong> Workarounds to Know and Love</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="../07_workarounds/02_err_in_async_blocks.html"><strong aria-hidden="true">7.1.</strong> ? in async Blocks</a></li><li class="chapter-item expanded "><a href="../07_workarounds/03_send_approximation.html"><strong aria-hidden="true">7.2.</strong> Send Approximation</a></li><li class="chapter-item expanded "><a href="../07_workarounds/04_recursion.html"><strong aria-hidden="true">7.3.</strong> Recursion</a></li><li class="chapter-item expanded "><a href="../07_workarounds/05_async_in_traits.html"><strong aria-hidden="true">7.4.</strong> async in Traits</a></li></ol></li><li class="chapter-item expanded "><a href="../08_ecosystem/00_chapter.html"><strong aria-hidden="true">8.</strong> The Async Ecosystem</a></li><li class="chapter-item expanded "><a href="../09_example/00_intro.html"><strong aria-hidden="true">9.</strong> Final Project: HTTP Server</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="../09_example/01_running_async_code.html"><strong aria-hidden="true">9.1.</strong> Running Asynchronous Code</a></li><li class="chapter-item expanded "><a href="../09_example/02_handling_connections_concurrently.html"><strong aria-hidden="true">9.2.</strong> Handling Connections Concurrently</a></li><li class="chapter-item expanded "><a href="../09_example/03_tests.html"><strong aria-hidden="true">9.3.</strong> Testing the Server</a></li></ol></li><li class="chapter-item expanded "><a href="../404.html"><strong aria-hidden="true">10.</strong> TODO: I/O</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="../404.html"><strong aria-hidden="true">10.1.</strong> TODO: AsyncRead and AsyncWrite</a></li></ol></li><li class="chapter-item expanded "><a href="../404.html"><strong aria-hidden="true">11.</strong> TODO: Asynchronous Design Patterns: Solutions and Suggestions</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="../404.html"><strong aria-hidden="true">11.1.</strong> TODO: Modeling Servers and the Request/Response Pattern</a></li><li class="chapter-item expanded "><a href="../404.html"><strong aria-hidden="true">11.2.</strong> TODO: Managing Shared State</a></li></ol></li></ol>
            </div>
            <div id="sidebar-resize-handle" class="sidebar-resize-handle"></div>
        </nav>

        <div id="page-wrapper" class="page-wrapper">

            <div class="page">
                
                <div id="menu-bar-hover-placeholder"></div>
                <div id="menu-bar" class="menu-bar sticky bordered">
                    <div class="left-buttons">
                        <button id="sidebar-toggle" class="icon-button" type="button" title="Toggle Table of Contents" aria-label="Toggle Table of Contents" aria-controls="sidebar">
                            <i class="fa fa-bars"></i>
                        </button>
                        <button id="theme-toggle" class="icon-button" type="button" title="Change theme" aria-label="Change theme" aria-haspopup="true" aria-expanded="false" aria-controls="theme-list">
                            <i class="fa fa-paint-brush"></i>
                        </button>
                        <ul id="theme-list" class="theme-popup" aria-label="Themes" role="menu">
                            <li role="none"><button role="menuitem" class="theme" id="light">Light (default)</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="rust">Rust</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="coal">Coal</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="navy">Navy</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="ayu">Ayu</button></li>
                        </ul>
                        
                        <button id="search-toggle" class="icon-button" type="button" title="Search. (Shortkey: s)" aria-label="Toggle Searchbar" aria-expanded="false" aria-keyshortcuts="S" aria-controls="searchbar">
                            <i class="fa fa-search"></i>
                        </button>
                        
                    </div>

                    <h1 class="menu-title">async-book-kr</h1>

                    <div class="right-buttons">
                        
                        <a href="../print.html" title="Print this book" aria-label="Print this book">
                            <i id="print-button" class="fa fa-print"></i>
                        </a>
                        
                        
                        <a href="https://github.com/byunggilchoi/async-book" title="Git repository" aria-label="Git repository">
                            <i id="git-repository-button" class="fa fa-github"></i>
                        </a>
                        
                    </div>
                </div>

                
                <div id="search-wrapper" class="hidden">
                    <form id="searchbar-outer" class="searchbar-outer">
                        <input type="search" name="search" id="searchbar" name="searchbar" placeholder="Search this book ..." aria-controls="searchresults-outer" aria-describedby="searchresults-header">
                    </form>
                    <div id="searchresults-outer" class="searchresults-outer hidden">
                        <div id="searchresults-header" class="searchresults-header"></div>
                        <ul id="searchresults">
                        </ul>
                    </div>
                </div>
                

                <!-- Apply ARIA attributes after the sidebar and the sidebar toggle button are added to the DOM -->
                <script type="text/javascript">
                    document.getElementById('sidebar-toggle').setAttribute('aria-expanded', sidebar === 'visible');
                    document.getElementById('sidebar').setAttribute('aria-hidden', sidebar !== 'visible');
                    Array.from(document.querySelectorAll('#sidebar a')).forEach(function(link) {
                        link.setAttribute('tabIndex', sidebar === 'visible' ? 0 : -1);
                    });
                </script>

                <div id="content" class="content">
                    <main>
                        <h1><a class="header" href="#비동기-rust의-상태" id="비동기-rust의-상태">비동기 Rust의 상태</a></h1>
<p>비동기 Rust 중 어떤 부분은 동기 Rust와 동일한 수준의 안정성이 보장됩니다. 다른 부분은 여전히 발전하고 있으며 시간에 따라 변화가 있을 것입니다. 비동기 Rust를 이용하면 아래의 항목들을 기대할 수 있습니다. </p>
<ul>
<li>일반적인 동시성 작업에 대한 뛰어난 런타임 성능</li>
<li>라이프타임과 피닝과 같은 고급 언어 기능과 더 잦은 상호작용</li>
<li>동기와 비동기 간 그리고 서로 다른 비동기 런타임 간의 일부 호환성 제약</li>
<li>비동기 런타임 및 언어 지원의 지속적인 발전으로 인한 높은 유지보수 부담</li>
</ul>
<p>즉, 비동기 Rust는 사용하기가 더 어렵고 동기 Rust보다 유지보수 부담이 더 크지만 그 대가로 동급 최고의 성능을 제공합니다. 비동기 Rust의 모든 영역은 지속적으로 개선되기 때문에 이런 문제들에 따른 영향은 점차 사라질 것입니다.</p>
<h2><a class="header" href="#언어-및-라이브러리-지원" id="언어-및-라이브러리-지원">언어 및 라이브러리 지원</a></h2>
<p>비동기 프로그래밍은 Rust 자체에서 지원하지만 대부분의 비동기 응용프로그램들은 커뮤니티에서 만든 크레이트의 기능에 의존합니다.
따라서 사용자는 언어 기능과 라이브러리 지원 모두를 사용해야 합니다.</p>
<ul>
<li><a href="https://doc.rust-lang.org/std/future/trait.Future.html"><code>Future</code></a> 트레잇같이 가장 기초적인 트레잇, 타입, 함수들은 표준 라이브러리에서 지원</li>
<li><code>async/await</code> 문법은 러스트 컴파일러에서 바로 지원</li>
<li>다양한 유틸리티 타입, 매크로, 함수들은 <a href="https://docs.rs/futures/"><code>futures</code></a> 크레이트에서 지원하며 모든 비동기 Rust 응용프로그램에서 이용 가능</li>
<li>비동기 코드, IO, 태스크 생성은 Tokio, async-std같은 &quot;비동기 런타임&quot;에서 제공하며 대부분의 비동기 응용프로그램과 일부 비동기 크레이트는 특정한 런타임을 이용. 자세한 사항은 <a href="../08_ecosystem/00_chapter.html">&quot;비동기 생태계&quot;</a> 참조.</li>
</ul>
<p>동기 Rust에서 사용할 수 있는 일부 언어 기능은 아직 비동기 Rust에서 사용할 수 없습니다. 특히 Rust는 트레잇에서 비동기 함수를 선언할 수 없습니다. 동일한 결과를 얻기 위해서는 좀 더 긴 코드를 작성해야 합니다.</p>
<h2><a class="header" href="#컴파일과-디버깅" id="컴파일과-디버깅">컴파일과 디버깅</a></h2>
<p>대부분의 경우 비동기 Rust의 컴파일러 및 런타임 오류는 Rust에서와 마찬가지로 작동합니다. 몇 가지 주목할만한 차이점만 알면 됩니다.</p>
<h3><a class="header" href="#컴파일-오류" id="컴파일-오류">컴파일 오류</a></h3>
<p>비동기 Rust의 컴파일 오류는 동기 Rust와 같은 높은 수준의 규정을 준수하지만 비동기 Rust가 종종 라이프타임 및 피닝같은 더 복잡한 언어 기능에 의존하기 때문에 컴파일 오류를 좀 더 자주 만나게 될 수도 있습니다.</p>
<h3><a class="header" href="#런타임-오류" id="런타임-오류">런타임 오류</a></h3>
<p>컴파일러는 비동기 함수와 만날 때마다 상태 머신을 내부에 생성합니다. 비동기 Rust의 스택 추적에는 일반적으로 상태 머신의 세부 정보와 런타임의 함수 호출 내역이 포함됩니다. 따라서 스택 추적을 해석하는 것이 동기 Rust보다 약간 더 복잡할 수도 있습니다.</p>
<h3><a class="header" href="#새로운-오류-모드" id="새로운-오류-모드">새로운 오류 모드</a></h3>
<p>비동기 Rust에서는 몇 가지 새로운 오류 모드가 생길 수 있습니다. 예를 들어 비동기 컨텍스트에서 차단된 함수를 호출하거나 <code>Future</code> 트레잇을 잘못 구현하는 경우가 있겠죠. 이런 오류들은 컴파일러나 때로는 유닛 테스트에 모두 자동으로 전달할 수 있습니다. 이 문서에서 제공하고자 하는 기본 개념을 확실히 이해하면 이런 함정들을 피할 수 있을 것입니다.</p>
<h2><a class="header" href="#호환성-고려사항" id="호환성-고려사항">호환성 고려사항</a></h2>
<p>비동기와 동기 코드를 항상 자유롭게 결합할 수는 없습니다. 예를 들어 동기 함수 내에서 비동기 함수를 바로 호출할 수는 없습니다. 동기와 비동기 코드는 다른 디자인 패턴으로 나오는 경향이 있어서 다양한 환경에 맞게 코드를 합성하기가 어려워질 수도 있습니다.</p>
<p>비동기 코드조차도 항상 자유롭게 결합할 수는 없습니다. 어떤 크레이트들은 특정 비동기 런타임에 의존합니다. 이 경우에는 해당 크레이트의 의존성 목록에 해당 런타임을 특정합니다.</p>
<p>이런 호환성 문제들은 선택지를 제한하기 때문에 어떤 비동기 런타임과 어떤 크레이트들이 필요한 지를 초기에 조사해야 합니다. 특정 런타임에 정착한 뒤에는 호환성에 대해서 걱정할 필요가 없습니다.</p>
<h2><a class="header" href="#성능-특성" id="성능-특성">성능 특성</a></h2>
<p>비동기에 따른 CPU와 메모리 상의 추가비용은 보통 OS 스레드를 바로 사용하는 것보다 현저하게 낮습니다. 특히 서버와 같이 많은 양의 IO 바인딩 작업이 있는 경우에 특히 그렇습니다. Rust의 무비용 추상화와 함께 하기 떄문에 비동기 Rust는 가장 성능이 뛰어난 동시성 환경 중 하나입니다. 비동기 런타임을 선택하는 것에 따라 성능 특성이 영향을 받지만 미미합니다.</p>
<p>단, 비동기 Rust는 비동기 함수에서 생성하는 상태 머신과 각 실행파일이 비동기 런타임을 포함해야 하는 점 때문에 바이너리가 더 크게 나올 수도 있습니다. 또한 기존 비동기 런타임은 레이턴시에 민감한 응용프로그램에서 필요할 수 있는 작업수행일정 정밀조정 기능을 지원하지 않습니다. </p>

                    </main>

                    <nav class="nav-wrapper" aria-label="Page navigation">
                        <!-- Mobile navigation buttons -->
                        
                            <a rel="prev" href="../01_getting_started/02_why_async.html" class="mobile-nav-chapters previous" title="Previous chapter" aria-label="Previous chapter" aria-keyshortcuts="Left">
                                <i class="fa fa-angle-left"></i>
                            </a>
                        

                        
                            <a rel="next" href="../01_getting_started/04_async_await_primer.html" class="mobile-nav-chapters next" title="Next chapter" aria-label="Next chapter" aria-keyshortcuts="Right">
                                <i class="fa fa-angle-right"></i>
                            </a>
                        

                        <div style="clear: both"></div>
                    </nav>
                </div>
            </div>

            <nav class="nav-wide-wrapper" aria-label="Page navigation">
                
                    <a rel="prev" href="../01_getting_started/02_why_async.html" class="nav-chapters previous" title="Previous chapter" aria-label="Previous chapter" aria-keyshortcuts="Left">
                        <i class="fa fa-angle-left"></i>
                    </a>
                

                
                    <a rel="next" href="../01_getting_started/04_async_await_primer.html" class="nav-chapters next" title="Next chapter" aria-label="Next chapter" aria-keyshortcuts="Right">
                        <i class="fa fa-angle-right"></i>
                    </a>
                
            </nav>

        </div>

        

        

        

        
        <script type="text/javascript">
            window.playground_copyable = true;
        </script>
        

        

        
        <script src="../elasticlunr.min.js" type="text/javascript" charset="utf-8"></script>
        <script src="../mark.min.js" type="text/javascript" charset="utf-8"></script>
        <script src="../searcher.js" type="text/javascript" charset="utf-8"></script>
        

        <script src="../clipboard.min.js" type="text/javascript" charset="utf-8"></script>
        <script src="../highlight.js" type="text/javascript" charset="utf-8"></script>
        <script src="../book.js" type="text/javascript" charset="utf-8"></script>

        <!-- Custom JS scripts -->
        

        

    </body>
</html>
